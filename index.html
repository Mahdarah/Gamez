<!DOCTYPE html>

<html>
    
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
        <title>Google</title>
        <link rel="stylesheet" type="text/css" href="stylesheet.css">

        <small><p style="color:#929f99">version 0.21</p></small>
        
    </head>
    <script>
        function Loaded(){
                title = true  
            
            
                setTimeout(MainLoop,20)
                //alert("Hey")
                // Get a handle to the canvas object
                maincanvas = document.getElementById('bottomlayer');
                // Get the 2d context for this canvas
                
                context = maincanvas.getContext('2d');
                
                topcanvas = document.getElementById('toplayer');
                
                topcontext = maincanvas.getContext('2d');
                // Our drawing code here. . . 
                //context.beginPath()
                //context.arc(0,0,80,80,45,false)//x,y,radius startangle, endangle, clockwise?
                //context.stroke()

                //context.fillText("You won or lost, idk",canvas.width/2,canvas.height/2)
                squarex = 0
                squarey = 0
                //context.fillStyle = 'rgb(75, 83, 116)';
                //context.fillRect(squarex,squarey,5,5)
                
                
               
            }
    
         function DrawLoop(){
                context.clearRect(0,0,450,450)
                topcontext.clearRect(0,0,450,450)
                
                if (title) {
                    TitleLoop()
                }
                else {
                    if (numplayers >= 1) {
                        topcontext.font = "40px Georgia";
                        topcontext.fillText("Player one choose a key", 10, 50);


                        $(document).keypress(function(event){
                            player1 = String.fromCharCode(event.which); 
                        });
                        
                            if (player1 && numplayers >= 2) {
                                 topcontext.font = "40px Georgia";
                                context.clearRect(0,0,450,450)
                            topcontext.fillText("Player two choose a key", 10, 50);


                            $(document).keypress(function(event){
                                player2 = String.fromCharCode(event.which); 
                               // if (player2==player1) {
                               //     delete player2;     
                                //}
                            });

                                if (player2 && numplayers >= 3) {
                                     topcontext.font = "40px Georgia";
                                    context.clearRect(0,0,450,450)
                                topcontext.fillText("Player three choose a key", 10, 50);


                                $(document).keypress(function(event){
                                    player2 = String.fromCharCode(event.which); 
                                    if (player3==player2 || player3 == player1) {
                                        delete player2;     
                                    }
                                });
                            
                                } 
                            
                            
                        }
                    }
                }
             
                
                function TitleLoop(){
                    topcontext.font = "50px Georgia";
                    topcontext.fillText("How many players?", 10, 50);
                    topcontext.fillText("1",30,200)
                    topcontext.fillText("2",300,200)
                    topcontext.fillText("3",30,400)
                    topcontext.fillText("4",300,400)
                    
                    
                    if(numplayers) {
                        title = false
                    }
                    
                    
                    
                    if (title) {
                        setTimeout(TitleLoop,20)
                    }
                }
                //squarex += 5
                
                }
        function MainLoop(){
            setTimeout(DrawLoop,20)
            setTimeout(MainLoop,20)
            
            document.addEventListener('keydown', function(event) {
            if(event.keyCode == 49) {
                    if(title){
                        numplayers = 1
                    }
            }
            else if(event.keyCode == 50) {
                    if(title){
                        numplayers = 2
                    }
            }   
            else if(event.keyCode == 51) {
                    if(title){
                        numplayers = 3
                    }
            } 
            else if(event.keyCode == 52) {
                    if(title){
                        numplayers = 4
                    }
            } 
            });
        }
        
        function uni(){
            
        }
    </script>

                    
  

    <body onload="Loaded()">
        <div >
        <canvas id="toplayer" width="450" height="450" 
        style="border:black 1px solid; z-index:2;">Your browser does not support game. Please shift to another browser</canvas>
            
        <canvas width = "450" height = "450" id = "bottomlayer" 
        style=" border:black 1px solid; z-index:1;">Your browser does not support game. Please shift to another browser.</canvas>
            
        
        </div>
    </body>
    
        
        
        
       
     
</html> 